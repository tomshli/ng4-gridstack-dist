!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("jquery"),require("lodash"),require("gridstack"),require("@angular/common")):"function"==typeof define&&define.amd?define("ng4-gridstack",["exports","@angular/core","jquery","lodash","gridstack","@angular/common"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self)["ng4-gridstack"]={},t.ng.core,t.jqueryProxy,t._,null,t.ng.common)}(this,(function(t,e,i,n,o,r){"use strict";function s(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}function h(t){if(t&&t.__esModule)return t;var e=Object.create(null);return t&&Object.keys(t).forEach((function(i){if("default"!==i){var n=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(e,i,n.get?n:{enumerable:!0,get:function(){return t[i]}})}})),e.default=t,Object.freeze(e)}var a=s(i),d=h(i),l=function(){},p=function(){function t(){this.x=0,this.y=0,this.height=1,this.width=1,this.noResize=!1,this.autoPosition=!1,this.visible=!0}return t.Clone=function(e){var i=new t;return i.autoPosition=e.autoPosition,i.itemId=e.itemId,i.el=e.el,i.height=e.height,i.locked=e.locked,i.maxHeight=e.maxHeight,i.maxWidth=e.maxWidth,i.minHeight=e.minHeight,i.minWidth=e.minWidth,i.noMove=e.noMove,i.noResize=e.noResize,i.width=e.width,i.x=e.x,i.y=e.y,i},t}(),u=function(){function t(t,i){this.el=t,this.renderer=i,this.onGridConfigurationChanged=new e.EventEmitter,this.contentComponentRef=null,this.jGridRef=null,this.jWidgetRef=null,this.jWidgetRef=t.nativeElement}return Object.defineProperty(t.prototype,"nativeElement",{get:function(){return this.el.nativeElement},enumerable:!1,configurable:!0}),t.prototype.ngOnInit=function(){this.RenderWidget(null)},t.prototype.UpdateWidget=function(t){},t.prototype.RenderWidget=function(t){this.renderer;null!=t&&(this.option=t),null==String(this.option.x)?this.renderer.removeAttribute(this.nativeElement,"data-gs-x"):this.renderer.setAttribute(this.nativeElement,"data-gs-x",String(this.option.x)),null==String(this.option.y)?this.renderer.removeAttribute(this.nativeElement,"data-gs-y"):this.renderer.setAttribute(this.nativeElement,"data-gs-y",String(this.option.y)),null==String(this.option.width)?this.renderer.removeAttribute(this.nativeElement,"data-gs-width"):this.renderer.setAttribute(this.nativeElement,"data-gs-width",String(this.option.width)),null==String(this.option.height)?this.renderer.removeAttribute(this.nativeElement,"data-gs-height"):this.renderer.setAttribute(this.nativeElement,"data-gs-height",String(this.option.height)),this.option.minWidth&&(null==String(this.option.minWidth)?this.renderer.removeAttribute(this.nativeElement,"data-gs-min-width"):this.renderer.setAttribute(this.nativeElement,"data-gs-min-width",String(this.option.minWidth))),null!=this.option.noResize&&1==this.option.noResize&&this.renderer.setAttribute(this.nativeElement,"data-gs-no-resize","yes"),!1===this.option.visible&&this.renderer.addClass(this.nativeElement,"hidden"),this.option.itemId&&(null==this.option.itemId?this.renderer.removeAttribute(this.nativeElement,"data-item-id"):this.renderer.setAttribute(this.nativeElement,"data-item-id",this.option.itemId))},t.prototype.update=function(t,e,i,n){if((t!==this.option.x||e!==this.option.y||i!==this.option.width||n!==this.option.height)&&null!=this.option){this.option.x=t,this.option.y=e,this.option.width=i,this.option.height=n;var o=p.Clone(this.option);this.onGridConfigurationChanged.emit(o)}},t.prototype.ngAfterViewInit=function(){},t.prototype.ngOnDestroy=function(){null!==this.contentComponentRef&&this.contentComponentRef.destroy()},t}();u.decorators=[{type:e.Component,args:[{selector:"grid-stack-item",template:'<div class="grid-stack-item-content">\n              <div #contentPlaceholder *ngIf="contentTemplate"></div>\n              <ng-content *ngIf="!contentTemplate"></ng-content>\n            </div>'}]}],u.ctorParameters=function(){return[{type:e.ElementRef},{type:e.Renderer2}]},u.propDecorators={contentPlaceholder:[{type:e.ViewChild,args:["contentPlaceholder",{read:e.ViewContainerRef}]}],contentTemplate:[{type:e.Input}],option:[{type:e.Input}],onGridConfigurationChanged:[{type:e.Output}]};var g=a.default||d,c=function(){function t(t,e){this.el=t,this.renderer=e,this.options=new l,this.gridStack=null,this.grid=null}return t.prototype.makeWidget=function(t){t.jGridRef=this.grid,null!=t.option&&null!=t.option.noResize&&1==t.option.noResize||(this.grid.resizable(t.nativeElement,!0),this.grid.move(t.nativeElement,t.option.x,t.option.y),this.grid.resize(t.nativeElement,t.option.width,t.option.height))},t.prototype.updateWidget=function(t){this.grid.resizable(t.nativeElement,!0),this.grid.move(t.nativeElement,t.option.x,t.option.y),this.grid.resize(t.nativeElement,t.option.width,t.option.height)},t.prototype.enableMove=function(t,e){this.grid.enableMove(t,e)},t.prototype.AddWidget=function(t){this.grid.makeWidget(t.nativeElement);t.jGridRef=this.grid,null!=t.option&&null!=t.option.noResize&&1==t.option.noResize||(this.grid.resizable(t.nativeElement,!0),this.grid.move(t.nativeElement,t.option.x,t.option.y),this.grid.resize(t.nativeElement,t.option.width,t.option.height))},t.prototype.RemoveWidget=function(t){this.grid.removeWidget(t.nativeElement,!1)},t.prototype.ngAfterContentInit=function(){var t=this,e=this,i=this.el.nativeElement;null==this.options&&(this.options=new l),null==this.options.cellHeight&&(this.options.cellHeight=60),null==this.options.width&&(this.options.width=12),null==this.options.height&&(this.options.height=0),null==this.options.animate&&(this.options.animate=!0),null==this.options.float&&(this.options.float=!1),null==this.options.resizable&&(this.options.resizable=!0),null==String(this.options.width)?this.renderer.removeAttribute(i,"data-gs-width"):this.renderer.setAttribute(i,"data-gs-width",String(this.options.width)),null==String(this.options.height)?this.renderer.removeAttribute(i,"data-gs-height"):this.renderer.setAttribute(i,"data-gs-height",String(this.options.height)),this.gridStack=g(i).gridstack(this.options),this.grid=this.gridStack.data("gridstack"),this.gridStack.on("change",(function(e,i){n.each(i,(function(e){return t.widgetChanged(e)}))})),this.items.forEach((function(t){return e.makeWidget(t)}))},t.prototype.widgetChanged=function(t){console.log(t);var e=t.el,i=this.items.find((function(t){return null!==t.jWidgetRef&&t.jWidgetRef===e[0]}));i&&i.update(t.x,t.y,t.width,t.height)},t}();c.decorators=[{type:e.Component,args:[{selector:"grid-stack",template:"<ng-content></ng-content>",styles:[":host { display: block; }"]}]}],c.ctorParameters=function(){return[{type:e.ElementRef},{type:e.Renderer2}]},c.propDecorators={options:[{type:e.Input}],items:[{type:e.ContentChildren,args:[u]}]};var m=function(t){this.el=t};m.decorators=[{type:e.Directive,args:[{selector:"[gridStackDirective]"}]}],m.ctorParameters=function(){return[{type:e.ElementRef}]};var f=function(){function t(){}return t.prototype.transform=function(t,e){return void 0===e&&(e=null),t},t}();f.decorators=[{type:e.Pipe,args:[{name:"gridStackPipe"}]},{type:e.Injectable}];var v=function(){};v.decorators=[{type:e.NgModule,args:[{imports:[r.CommonModule],declarations:[c,u,m,f],exports:[c,u,m,f]}]}],t.GridStackComponent=c,t.GridStackDirective=m,t.GridStackItem=p,t.GridStackItemComponent=u,t.GridStackModule=v,t.GridStackOptions=l,t.GridStackPipe=f,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=ng4-gridstack.umd.min.js.map